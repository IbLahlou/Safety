name: ๐ฆบ PPE Detection System Test

on:
  push:
    paths:
      - 'safety/PPE_Detection/'
      - '.github/workflows/ppe-detection.yml'
  pull_request:
    paths:
      - 'safety/PPE_Detection'
  workflow_dispatch:
    inputs:
      debug_mode:
        description: 'Enable debug logging'
        required: false
        default: false
        type: boolean
      skip_gpu_check:
        description: 'Skip GPU availability check'
        required: false
        default: false
        type: boolean

env:
  APP_NAME: "PPE Detection"
  WEIGHTS_PATH: "/home/sysadmin01/Desktop/PFE/safety/PPE_Detection/experiments/checkpoints/yolo11n_v6.pt"
  PID_FILE: "/tmp/ppe_app.pid"
  LOG_FILE: "/tmp/ppe_app.log"
  TEST_PORT: 5001

jobs:
  test-ppe-detection:
    name: ๐ฆบ Test PPE Detection System
    runs-on: [self-hosted, Linux, X64]
    timeout-minutes: 20
    
    steps:
      #โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      # ๐ SETUP & PREPARATION
      #โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      
      - name: ๐ฅ Checkout Repository
        uses: actions/checkout@v4
        
      - name: ๐ Setup Python Environment
        run: |
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "๐ PYTHON ENVIRONMENT SETUP"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          
          cd safety
          source .venv/bin/activate
          
          echo "๐ Weights Path: ${{ env.WEIGHTS_PATH }}"
          echo "๐ Log File: ${{ env.LOG_FILE }}"
          echo "๐ PID File: ${{ env.PID_FILE }}"
          
          # Start application in background
          nohup uv run python -m PPE_Detection.alarm_system.flaskr.main --weights "${{ env.WEIGHTS_PATH }}" > "${{ env.LOG_FILE }}" 2>&1 &
          APP_PID=$!
          
          # Save PID
          echo $APP_PID > "${{ env.PID_FILE }}"
          echo "๐ Started with PID: $APP_PID"
          
          # Wait for YOLO model loading (takes longer than regular apps)
          echo "โณ Waiting for YOLO model loading (20 seconds)..."
          sleep 20
          
          # Verify process is running
          if kill -0 $APP_PID 2>/dev/null; then
            echo "โ ${{ env.APP_NAME }} is running successfully"
            echo "๐ Process Info: $(ps -p $APP_PID -o pid,ppid,pcpu,pmem,etime --no-headers)"
          else
            echo "โ ${{ env.APP_NAME }} failed to start"
            echo "๐ Log contents:"
            cat "${{ env.LOG_FILE }}" || echo "No log file available"
            exit 1
          fi

      #โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      # ๐งช FUNCTIONALITY TESTING
      #โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      
      - name: ๐ฏ Test YOLO Model Loading
        run: |
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "๐ฏ YOLO MODEL LOADING TEST"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          
          sleep 5
          
          echo "๐ Analyzing logs for YOLO model activity..."
          
          # Check for model loading
          if grep -i -E "(model|yolo|loaded|weights|ultralytics)" "${{ env.LOG_FILE }}"; then
            echo "โ YOLO model loading detected"
          else
            echo "โ๏ธ  No YOLO model loading activity found"
          fi
          
          # Check for specific YOLO11 v6 model
          if grep -i -E "(yolo11|v6\.pt|yolo11n)" "${{ env.LOG_FILE }}"; then
            echo "โ YOLO11 v6 model specifically detected"
          else
            echo "โ๏ธ  YOLO11 v6 model not specifically detected"
          fi
          
          # Check for GPU/CPU usage
          if grep -i -E "(cuda|gpu|device)" "${{ env.LOG_FILE }}"; then
            echo "โ GPU acceleration detected"
          elif grep -i -E "(cpu)" "${{ env.LOG_FILE }}"; then
            echo "โน๏ธ  CPU processing detected"
          fi
          
      - name: ๐ช Test Multi-Object Tracking
        run: |
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "๐ช MULTI-OBJECT TRACKING TEST"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          
          echo "๐ Checking for tracking functionality..."
          
          # Check for ByteTrack or tracking systems
          if grep -i -E "(track|bytetrack|supervision|tracking)" "${{ env.LOG_FILE }}"; then
            echo "โ Multi-object tracking detected"
          else
            echo "โ๏ธ  No tracking activity detected"
          fi
          
          # Check for bounding box detection
          if grep -i -E "(bbox|bounding|box|detection|object)" "${{ env.LOG_FILE }}"; then
            echo "โ Object detection/bounding box functionality detected"
          else
            echo "โ๏ธ  No object detection activity found"
          fi
          
          # Check for supervision library usage
          if grep -i -E "(supervision|annotate|overlay)" "${{ env.LOG_FILE }}"; then
            echo "โ Supervision library integration detected"
          else
            echo "โ๏ธ  No supervision library activity found"
          fi
          
      - name: ๐ฆบ Test PPE Detection Classes
        run: |
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "๐ฆบ PPE DETECTION CLASSES TEST"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          
          echo "๐ Checking for PPE detection classes..."
          
          # Common PPE detection classes
          PPE_CLASSES=("helmet" "hard_hat" "vest" "safety_vest" "hi_vis" "protective" "safety" "hardhat" "high_visibility")
          
          found_classes=0
          for class in "${PPE_CLASSES[@]}"; do
            if grep -i "$class" "${{ env.LOG_FILE }}" >/dev/null 2>&1; then
              echo "โ $class detection configured"
              ((found_classes++))
            fi
          done
          
          if [ $found_classes -gt 0 ]; then
            echo "โ Found $found_classes PPE detection classes"
          else
            echo "โ๏ธ  No specific PPE classes detected in logs"
          fi
          
          # Check for general class loading
          if grep -i -E "(class|classes|categories|labels)" "${{ env.LOG_FILE }}"; then
            echo "โ Model classes/categories loading detected"
          else
            echo "โ๏ธ  No class loading activity detected"
          fi
          
      - name: ๐ Test Flask Web Interface
        run: |
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "๐ FLASK WEB INTERFACE TEST"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          
          echo "๐ Testing Flask endpoints..."
          
          # Try multiple ports as PPE detection might use different port
          ACTIVE_PORT=""
          for port in ${{ env.TEST_PORT }} 5000 8000 8080; do
            if curl -f -s "http://localhost:$port/" >/dev/null 2>&1; then
              echo "โ Found active Flask server on port $port"
              ACTIVE_PORT=$port
              break
            fi
          done
          
          if [ -z "$ACTIVE_PORT" ]; then
            echo "โ No active Flask endpoint found on common ports"
            ACTIVE_PORT=${{ env.TEST_PORT }}  # Use default for testing
          fi
          
          # Test various endpoints
          endpoints=("/" "/status" "/health" "/detect" "/video" "/stream" "/api/detect" "/api/status" "/upload")
          
          for endpoint in "${endpoints[@]}"; do
            url="http://localhost:$ACTIVE_PORT$endpoint"
            echo "๐ Testing: $url"
            
            response=$(curl -s -o /dev/null -w "%{http_code}" "$url" 2>/dev/null || echo "000")
            
            case $response in
              200|201|202) echo "โ $endpoint: HTTP $response (Success)" ;;
              404) echo "โน๏ธ  $endpoint: HTTP $response (Not Found - Expected)" ;;
              405) echo "โน๏ธ  $endpoint: HTTP $response (Method Not Allowed - Expected)" ;;
              500|502|503) echo "โ๏ธ  $endpoint: HTTP $response (Server Error)" ;;
              000) echo "โ $endpoint: Connection Failed" ;;
              *) echo "โ $endpoint: HTTP $response (Unknown)" ;;
            esac
          done
          
      - name: ๐ฌ Test Video Processing Pipeline
        run: |
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "๐ฌ VIDEO PROCESSING PIPELINE TEST"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          
          echo "๐ Checking video processing capabilities..."
          
          # Check for video/frame processing
          if grep -i -E "(frame|video|fps|stream|camera|capture)" "${{ env.LOG_FILE }}"; then
            echo "โ Video processing pipeline active"
          else
            echo "โ๏ธ  No video processing activity detected"
          fi
          
          # Check for real-time processing
          if grep -i -E "(real.?time|live|streaming)" "${{ env.LOG_FILE }}"; then
            echo "โ Real-time processing detected"
          else
            echo "โ๏ธ  No real-time processing detected"
          fi
          
          # Check for frame rate information
          if grep -i -E "(fps|frame.?rate)" "${{ env.LOG_FILE }}"; then
            echo "โ Frame rate monitoring detected"
          else
            echo "โ๏ธ  No frame rate information found"
          fi

      #โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      # ๐ PERFORMANCE MONITORING
      #โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      
      - name: ๐ฅ๏ธ Monitor GPU Performance
        if: ${{ !inputs.skip_gpu_check }}
        run: |
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "๐ฅ๏ธ  GPU PERFORMANCE MONITORING"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          
          if command -v nvidia-smi &> /dev/null; then
            echo "๐ Current GPU Usage:"
            nvidia-smi --query-gpu=index,name,utilization.gpu,utilization.memory,memory.used,memory.total,temperature.gpu --format=csv,noheader,nounits | while read line; do
              echo "  ๐ฎ $line"
            done
            
            echo ""
            echo "๐ฅ GPU Processes:"
            nvidia-smi pmon -c 1 -s um | tail -n +3 | while read line; do
              echo "  โก $line"
            done
          else
            echo "โน๏ธ  No GPU monitoring available"
          fi
          
      - name: ๐ Monitor System Performance
        run: |
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "๐ SYSTEM PERFORMANCE MONITORING"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          
          if [ -f "${{ env.PID_FILE }}" ]; then
            PID=$(cat "${{ env.PID_FILE }}")
            
            if kill -0 $PID 2>/dev/null; then
              echo "๐ Process Performance Metrics:"
              ps -p $PID -o pid,ppid,pcpu,pmem,vsz,rss,etime,cmd --no-headers | while read line; do
                echo "  $line"
              done
              
              # Memory usage analysis
              MEM_USAGE=$(ps -p $PID -o pmem --no-headers | tr -d ' ' | cut -d. -f1)
              RSS_KB=$(ps -p $PID -o rss --no-headers | tr -d ' ')
              RSS_MB=$((RSS_KB / 1024))
              
              echo "๐พ Memory Analysis:"
              echo "  ๐ Memory Usage: ${MEM_USAGE}%"
              echo "  ๐๏ธ  Resident Memory: ${RSS_MB}MB"
              
              # YOLO models are memory intensive
              if [ "$MEM_USAGE" -gt 70 ]; then
                echo "  โ๏ธ  High memory usage (>70%) - Expected for YOLO models"
              else
                echo "  โ Memory usage within acceptable range"
              fi
              
              # CPU usage analysis
              CPU_USAGE=$(ps -p $PID -o pcpu --no-headers | tr -d ' ' | cut -d. -f1)
              echo "โก CPU Usage: ${CPU_USAGE}%"
              
              if [ "$CPU_USAGE" -gt 80 ]; then
                echo "  โ๏ธ  High CPU usage (>80%)"
              else
                echo "  โ CPU usage normal"
              fi
              
            else
              echo "โ Process not running"
            fi
          else
            echo "โ PID file not found"
          fi

      #โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      # ๐งน CLEANUP & SHUTDOWN
      #โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      
      - name: ๐ Capture Logs & Cleanup
        if: always()
        run: |
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "๐ FINAL LOGS & CLEANUP"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          
          echo "๐ Application Logs (Last 50 lines):"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          if [ -f "${{ env.LOG_FILE }}" ]; then
            tail -50 "${{ env.LOG_FILE }}" | sed 's/^/  /'
          else
            echo "  โ No log file found"
          fi
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          
          echo ""
          echo "๐ Stopping ${{ env.APP_NAME }}..."
          
          if [ -f "${{ env.PID_FILE }}" ]; then
            PID=$(cat "${{ env.PID_FILE }}")
            echo "๐ Found PID: $PID"
            
            if kill -0 $PID 2>/dev/null; then
              echo "๐ค Sending SIGTERM to process..."
              kill $PID
              
              # Wait longer for YOLO models to cleanup
              for i in {1..15}; do
                if ! kill -0 $PID 2>/dev/null; then
                  echo "โ Process stopped gracefully"
                  break
                fi
                echo "โณ Waiting for shutdown... ($i/15)"
                sleep 1
              done
              
              # Force kill if still running
              if kill -0 $PID 2>/dev/null; then
                echo "โ๏ธ  Process still running, forcing shutdown..."
                kill -9 $PID
                sleep 3
                
                if kill -0 $PID 2>/dev/null; then
                  echo "โ Failed to stop process $PID"
                else
                  echo "โ Process force-stopped successfully"
                fi
              fi
              
            else
              echo "โน๏ธ  Process already stopped"
            fi
          else
            echo "โ๏ธ  No PID file found"
          fi
          
          # Comprehensive cleanup
          echo "๐งน Final cleanup..."
          pkill -f "PPE_Detection.alarm_system.flaskr.main" 2>/dev/null || true
          pkill -f "ppe_detection" 2>/dev/null || true
          pkill -f "yolo" 2>/dev/null || true
          pkill -f "ultralytics" 2>/dev/null || true
          
          # Remove temporary files
          rm -f "${{ env.PID_FILE }}" "${{ env.LOG_FILE }}"
          
          echo "โ Cleanup completed successfully"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "๐ ${{ env.APP_NAME }} Test Completed"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ" .venv/bin/activate
          
          echo "โ Python Version: $(python --version)"
          echo "โ Virtual Environment: Activated"
          
          # Check key dependencies
          echo "๐ Checking AI/ML dependencies..."
          
          if python -c "import ultralytics; print(f'โ Ultralytics: {ultralytics.__version__}')" 2>/dev/null; then
            echo "โ YOLO: Available"
          else
            echo "โ YOLO: Not Available"
            exit 1
          fi
          
          if python -c "import supervision; print(f'โ Supervision: {supervision.__version__}')" 2>/dev/null; then
            echo "โ Supervision: Available"
          else
            echo "โ๏ธ  Supervision: Not Available"
          fi
          
          if python -c "import cv2; print(f'โ OpenCV: {cv2.__version__}')" 2>/dev/null; then
            echo "โ OpenCV: Available"
          else
            echo "โ๏ธ  OpenCV: Not Available"
          fi
          
      - name: ๐ฏ Verify YOLO Model Weights
        run: |
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "๐ฏ YOLO MODEL WEIGHTS VERIFICATION"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          
          echo "๐ Expected weights path: ${{ env.WEIGHTS_PATH }}"
          
          if [ -f "${{ env.WEIGHTS_PATH }}" ]; then
            echo "โ YOLO weights found!"
            echo "๐ File details:"
            ls -lh "${{ env.WEIGHTS_PATH }}" | sed 's/^/  /'
            
            # Check file size (YOLO models should be several MB)
            SIZE=$(stat -c%s "${{ env.WEIGHTS_PATH }}")
            SIZE_MB=$((SIZE / 1024 / 1024))
            echo "๐พ Size: ${SIZE_MB}MB"
            
            if [ $SIZE_MB -lt 1 ]; then
              echo "โ๏ธ  Weights file seems too small (${SIZE_MB}MB)"
            else
              echo "โ Weights file size looks good"
            fi
            
          else
            echo "โ YOLO weights not found at expected location"
            echo "๐ Searching for alternative weights files..."
            
            find safety/PPE_Detection -name "*.pt" -type f 2>/dev/null | head -5 | while read file; do
              echo "  ๐ Found: $file ($(ls -lh "$file" | awk '{print $5}'))"
            done
            
            echo "โ Cannot proceed without model weights"
            exit 1
          fi
          
      - name: ๐ฅ๏ธ Check GPU Availability
        if: ${{ !inputs.skip_gpu_check }}
        run: |
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "๐ฅ๏ธ  GPU AVAILABILITY CHECK"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          
          if command -v nvidia-smi &> /dev/null; then
            echo "๐ NVIDIA GPU Status:"
            nvidia-smi --query-gpu=index,name,memory.total,memory.used,utilization.gpu --format=csv,noheader,nounits | while read line; do
              echo "  ๐ฎ GPU: $line"
            done
            
            # Check CUDA availability in Python
            cd safety
            source .venv/bin/activate
            if python -c "import torch; print(f'โ PyTorch CUDA: {torch.cuda.is_available()}')" 2>/dev/null; then
              CUDA_DEVICE=$(python -c "import torch; print(torch.cuda.get_device_name(0) if torch.cuda.is_available() else 'None')" 2>/dev/null)
              echo "๐ฎ CUDA Device: $CUDA_DEVICE"
            else
              echo "โ๏ธ  PyTorch CUDA not available"
            fi
            
          else
            echo "โน๏ธ  No NVIDIA GPU detected (will use CPU)"
          fi
          
      - name: ๐งน Pre-cleanup
        run: |
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "๐งน PRE-CLEANUP"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          
          echo "๐ Checking for existing PPE detection processes..."
          if pgrep -f "PPE_Detection.alarm_system.flaskr.main"; then
            echo "โ๏ธ  Found existing PPE detection processes"
            pkill -f "PPE_Detection.alarm_system.flaskr.main" || true
            pkill -f "ppe_detection" || true
            pkill -f "yolo" || true
            sleep 5
          else
            echo "โ No existing processes found"
          fi
          
          echo "๐๏ธ  Cleaning temporary files..."
          rm -f ${{ env.PID_FILE }} ${{ env.LOG_FILE }}
          echo "โ Cleanup completed"

      #โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      # ๐ APPLICATION STARTUP
      #โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
      
      - name: ๐ Start PPE Detection App
        run: |
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          echo "๐ STARTING ${{ env.APP_NAME }}"
          echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
          
          cd safety
          source
